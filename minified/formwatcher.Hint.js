/*  Â© Matias Meno   */(function(a){Formwatcher.Decorators.push(Formwatcher.Decorator.extend({name:"Hint",description:"Displays a hint in an input field.",nodeNames:["INPUT","TEXTAREA"],defaultOptions:{auto:!0,removeTrailingColon:!0,color:"#aaa"},accepts:function(a){if(this._super(a))if(a.data("hint")!==
undefined||this.options.auto&&Formwatcher.getLabel({input:a},this.watcher.options.automatchLabel))return!0;return!1},decorate:function(b){var c={input:b},d=b.data("hint");if(d===undefined||d==""){var e=Formwatcher.getLabel(c,this.watcher.options.automatchLabel);if(!e)throw"The hint was empty, but there was no label."
;c.label=e,e.hide(),d=e.html(),this.options.removeTrailingColon&&(d=d.replace(/\s*\:\s*$/,""))}Formwatcher.debug("Using hint: "+d),b.wrap('<span style="display: inline; position: relative;" />');var f=parseInt(b.css("marginTop"));isNaN(f)&&(f=0);var g=parseInt(b.css("paddingLeft"))+parseInt(b.position
().left)+parseInt(b.css("borderLeftWidth"))+2+"px",h=parseInt(b.css("paddingRight"))+parseInt(b.position().right)+parseInt(b.css("borderRightWidth"))+"px",i=a.el("span").html(d).css({position:"absolute",display:"none",top:parseInt(b.css("paddingTop"))+parseInt(b.position().top)+parseInt(b.css("borderTopWidth"
))+f+"px",left:g,fontSize:b.css("fontSize"),lineHeight:b.css("lineHeight"),fontFamily:b.css("fontFamily"),color:this.options.color}).addClass("hint").click(function(){b.focus()}).insertAfter(b),j=100;b.focus(function(){b.val()==""&&i.fadeTo(j,.4)}),b.blur(function(){b.val()==""&&i.fadeTo(j,1)});var k=
function(){b.val()==""?i.show():i.hide()};b.keyup(k),b.keypress(function(){_.defer(k)}),b.keydown(function(){_.defer(k)}),b.change(k);var l=10,m=function(){k(),_.delay(m,l),l*=2,l=l>1e3?1e3:l};return m(),c}}))})(jQuery);